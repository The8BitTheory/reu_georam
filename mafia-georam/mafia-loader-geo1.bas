#RetroDevStudio.MetaData.BASIC:2049,BASIC V2
1 POKE 53280,0:POKE 53281,0:PRINT""
4 PRINT""
5 PRINT"               M A F I A "
6 PRINT"          (C)1986 BY IGELSOFT"
7 PRINT"                                  "
8 PRINT"V1.20"
10 REM *** MAFIA-LOADER ***
11 REM
20 IFZ>0GOTO22
21 Z=1:LOAD"MF-ML",8,1
22 IFZ>1GOTO24
23 Z=2:LOAD"MF-ZEICHEN",8,1
24 IFZ>2GOTO26
25 Z=3:LOAD"MF-SPRITES",8,1
26 IFZ>3GOTO28
27 Z=4:LOAD"MF-SOUNDS",8,1

28 GOSUB 50
29 REM


30 SYS49972,40960,43007,53248,52
35 POKE648,204:POKE56576,148:POKE53272,52:SYS49752,"TITEL"
40 PRINT"LOAD"+CHR$(34)"MF-PRG"+CHR$(34)+",8":PRINT"RUN"
45 POKE631,19:POKE632,13:POKE633,13:POKE198,3:END

50 DATA SLW,PUB,WAF,AUT,KDH,SPH,SGL,SUB,BHF,BAN,POL,BLE
52 MP=56832:GB=57343:GP=57342:PG=0:POKE GB,0:POKE GP,PG:PG=1

55 FOR F=1 TO 12:READ A$
60  OPEN1,8,2,A$+",S,R"
65  INPUT#1,RF:INPUT#1,HF:INPUT#1,CF
66  POKEMP,RF:POKEMP+1,HF:POKE MP+2,CF:Z=MP+3
70  INPUT#1,X$:GOSUB 430
71  INPUT#1,X$:GOSUB 430
72  INPUT#1,AW:POKE Z,AW
73  GOSUB 440
75  FORI=1TOAW
76   INPUT#1,X$:GOSUB 430
80  NEXT:CLOSE1
85  POKE GP,PG:PG=PG+1:PRINT"{RVSON} {RVSOFF}";
86 NEXT:PRINT

99 RETURN

# FROM X$ TO GEORAM
430 FOR J=1 TO LEN(X$)
432  Y$=MID$(X$,J,1)
434  POKEZ,ASC(Y$)
436  GOSUB 440
438 NEXT:POKEZ,13:GOSUB 440
439 RETURN

440 Z=Z+1:IF Z>=57087 THEN Z=MP:POKE GP,PG:PG=PG+1
441 RETURN